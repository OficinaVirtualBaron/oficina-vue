"use strict";(self["webpackChunkoficina_vue"]=self["webpackChunkoficina_vue"]||[]).push([[443],{1986:function(e,a,t){var o=t(70);const s=o.ZP.create({baseURL:"//localhost:3000/",withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}}),l=o.ZP.create({baseURL:"//localhost:3000/",withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});a["Z"]={postCreateUser(e){return s.post("/auth/signUp",{firstname:e.name,lastname:e.lastname,password:e.password,email:e.email,cuil:e.cuil,adress:e.adress})},postLoginUser(e){return s.post("/auth/signin",{cuil:e.cuil,password:e.password})},postLoginMunicipal(e){return s.post("/auth/signinMunicipales",{cuil:e.cuil,password:e.password})},getAllCategories(){return l.get("/oficina/categories/categories")},getCategorieById(e){return s.get("/oficina/categories/categories/"+e)},getQuestions(e){return s.get("/oficina/categories/getQuestions/"+e)},getTramites(e){return s.get("/oficina/categories/category/procedure/"+e)},getHistorialTramites(){return s.get("/oficina/procedures/history")},getMunicipal(e){return s.get("/municipales/munis/"+e)},getUser(e){return s.get("/oficina/users/"+e)},postProcedure(e){return s.post("/oficina/procedures/submit-procedure",{userId:e.userId,categoryId:e.categoryId,statusId:e.statusId,questions:e.questions})}}},8890:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});var o=t(3396);const s={class:"form-container"};function l(e,a,t,l,r,n){const i=(0,o.up)("LoginComponent"),c=(0,o.up)("LoginMunicipal");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",null,[(0,o.Wm)(i),(0,o.Wm)(c)])])}var r=t(9242),n=t(7139);const i=e=>((0,o.dD)("data-v-3b578947"),e=e(),(0,o.Cn)(),e),c={class:"login-container"},u=i((()=>(0,o._)("div",{class:"deco"},[(0,o._)("h2",null,"Municipalidad de campo Bravo")],-1))),d=i((()=>(0,o._)("h1",null,"Login de vecino",-1))),m={class:"error"},g=i((()=>(0,o._)("div",{class:"deco"},[(0,o._)("h2",null,"Muni En Linea")],-1)));function p(e,a,t,s,l,i){const p=(0,o.up)("FormKit");return(0,o.wg)(),(0,o.iD)("div",c,[u,(0,o._)("form",null,[d,(0,o.Wm)(p,{type:"form",id:"registration-example",actions:!1,"incomplete-message":"Aun no has completado todos los campos."},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{modelValue:this.cuil,"onUpdate:modelValue":a[0]||(a[0]=e=>this.cuil=e),type:"number",name:"cuil",label:"CUIL",placeholder:"cuil",validation:"required|length:11,11|number","validation-messages":{required:"Ingresa el CUIL sin simbolos ni espacios",number:"Ingresar solo nùmeros",length:"El CUIL debe tener 11 caracteres"}},null,8,["modelValue"]),(0,o.Wm)(p,{modelValue:this.password,"onUpdate:modelValue":a[1]||(a[1]=e=>this.password=e),type:"password",name:"password",label:"Clave",placeholder:"clave",onKeyup:(0,r.D2)(i.log,["enter"])},null,8,["modelValue","onKeyup"]),(0,o._)("input",{class:"btn log-btn",type:"button",value:"Ingresar",onClick:a[2]||(a[2]=(...e)=>i.log&&i.log(...e))})])),_:1}),(0,o._)("p",m,(0,n.zw)(this.msj),1)]),g])}t(7658);var h=t(65),I=t(1986),v={name:"LoginComponent",data(){return{cuil:null,password:"",validacion:null,msj:""}},created(){localStorage.clear()},methods:{...(0,h.nv)(["mockLogin"]),log(){let e={password:this.password,cuil:this.cuil};I.Z.postLoginUser(e).then((e=>{200==e.status?(localStorage.removeItem("token"),this.validacion=!0,this.mockLogin(),localStorage.clear(),localStorage.setItem("name",e.data.user.firstname),localStorage.setItem("lastname",e.data.user.lastname),localStorage.setItem("cuil",e.data.user.cuil),localStorage.setItem("adress",e.data.user.adress),localStorage.setItem("email",e.data.user.email),localStorage.setItem("id",e.data.user.id),localStorage.setItem("fecha-creacion",e.data.user.created_at),console.log(e.data),localStorage.setItem("token",e.data.token),localStorage.setItem("role",e.data.user.role),this.$router.push("munienlinea")):(this.validacion=!1,this.msj="Usuario incorrecto",console.log(this.msj))})).catch((e=>{console.log(e),this.validacion=!1,this.msj="Usuario incorrecto",console.log(this.msj)}))}}},w=t(89);const f=(0,w.Z)(v,[["render",p],["__scopeId","data-v-3b578947"]]);var S=f;const b=e=>((0,o.dD)("data-v-61b9847b"),e=e(),(0,o.Cn)(),e),_={class:"login-container"},C={action:""},L=b((()=>(0,o._)("h1",null,"Login Municipal",-1))),k={style:{color:"red"}};function M(e,a,t,s,l,r){const i=(0,o.up)("FormKit");return(0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("form",C,[L,(0,o.Wm)(i,{type:"text",name:"Cuil",id:"Cuil",label:"Cuil",help:"Your full name",placeholder:"“Jon Doe”",modelValue:this.cuil,"onUpdate:modelValue":a[0]||(a[0]=e=>this.cuil=e)},null,8,["modelValue"]),(0,o.Wm)(i,{type:"password",name:"password",id:"password",label:"Password",help:"Your password",placeholder:"********",modelValue:this.password,"onUpdate:modelValue":a[1]||(a[1]=e=>this.password=e)},null,8,["modelValue"]),(0,o._)("p",k,(0,n.zw)(this.msj),1),(0,o._)("input",{onClick:a[2]||(a[2]=e=>r.login()),class:"btn btn-primary",type:"button",value:"Ingresar"})])])}var U={data(){return{cuil:null,password:"",msj:""}},methods:{...(0,h.nv)(["mockLogin"]),login(){let e={cuil:this.cuil,password:this.password};I.Z.postLoginMunicipal(e).then((e=>{200==e.status&&(console.log(e),localStorage.removeItem("token"),this.validacion=!0,this.mockLogin(),localStorage.clear(),localStorage.setItem("name",e.data.userMuni.firstname),localStorage.setItem("lastname",e.data.userMuni.lastname),localStorage.setItem("cuil",e.data.userMuni.cuil),localStorage.setItem("adress",e.data.userMuni.adress),localStorage.setItem("email",e.data.userMuni.email),localStorage.setItem("id",e.data.userMuni.id),localStorage.setItem("fecha-creacion",e.data.userMuni.created_at),localStorage.setItem("role",e.data.userMuni.role),console.log(e.data),localStorage.setItem("token",e.data.token),this.$router.push("muni"))})).catch((e=>{console.log(e),console.log("Fail"),this.msj="Usuario incorrecto"}))}}};const y=(0,w.Z)(U,[["render",M],["__scopeId","data-v-61b9847b"]]);var V=y,j={name:"LoginView",components:{LoginComponent:S,LoginMunicipal:V},created(){localStorage.clear(),localStorage.setItem("token",""),window.dispatchEvent(new CustomEvent("token-localstorage-changed",{detail:{storage:localStorage.getItem("token")}}))}};const Z=(0,w.Z)(j,[["render",l],["__scopeId","data-v-101e72cd"]]);var D=Z}}]);
//# sourceMappingURL=about.7e16e9e9.js.map